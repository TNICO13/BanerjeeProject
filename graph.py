import matplotlib.pyplot as plt

# Build the dataset from the user's table
rows = [
    ("HUN",1996,0.273327489),("POL",1996,6.013198116),("EST",1996,6.502782208),("LVA",1996,3.458756261),("LTU",1996,5.828552841),("SVK",1996,5.89518838),("SVN",1996,2.977996078),("CZE",1996,4.289887594),
    ("HUN",1997,3.185546317),("POL",1997,6.289311515),("EST",1997,14.34721605),("LVA",1997,10.2650978),("LTU",1997,9.102660475),("SVK",1997,5.291261369),("SVN",1997,5.312840812),("CZE",1997,-0.488660018),
    ("HUN",1998,4.090022567),("POL",1998,4.584212344),("EST",1998,5.346902251),("LVA",1998,7.559434383),("LTU",1998,8.244264266),("SVK",1998,3.686947843),("SVN",1998,3.288871703),("CZE",1998,-0.298733211),
    ("HUN",1999,3.378474268),("POL",1999,4.707878067),("EST",1999,-0.717824691),("LVA",1999,3.658721772),("LTU",1999,-0.392806939),("SVK",1999,-0.574779582),("SVN",1999,5.192840027),("CZE",1999,1.481997834),
    ("HUN",2000,4.680946506),("POL",2000,5.755022677),("EST",2000,9.556422589),("LVA",2000,6.866198613),("LTU",2000,4.148617929),("SVK",2000,0.925761789),("SVN",2000,3.191941183),("CZE",2000,4.302739523),
    ("HUN",2001,4.300996768),("POL",2001,1.261675976),("EST",2001,6.557319678),("LVA",2001,7.844419566),("LTU",2001,7.365190179),("SVK",2001,3.113698918),("SVN",2001,2.66685838),("CZE",2001,3.30462713),
    ("HUN",2002,5.028710608),("POL",2002,1.948404863),("EST",2002,7.612500411),("LVA",2002,8.923681512),("LTU",2002,7.579997637),("SVK",2002,4.455218718),("SVN",2002,3.154679906),("CZE",2002,1.709469589),
    ("HUN",2003,4.236919635),("POL",2003,3.593265477),("EST",2003,8.273723957),("LVA",2003,9.48207219),("LTU",2003,11.45354178),("SVK",2003,4.925739495),("SVN",2003,3.132826648),("CZE",2003,3.330406374),
    ("HUN",2004,5.19581259),("POL",2004,5.152304957),("EST",2004,7.441089885),("LVA",2004,9.918172996),("LTU",2004,7.70478467),("SVK",2004,5.41095987),("SVN",2004,4.479064928),("CZE",2004,4.704468201),
    ("HUN",2005,4.507920786),("POL",2005,3.306214772),("EST",2005,10.15160233),("LVA",2005,12.82794095),("LTU",2005,9.500108219),("SVK",2005,6.474487485),("SVN",2005,3.674398812),("CZE",2005,6.227986282),
    ("HUN",2006,4.095899965),("POL",2006,6.269429324),("EST",2006,10.41170436),("LVA",2006,13.86469226),("LTU",2006,9.123676972),("SVK",2006,8.92067972),("SVN",2006,5.571349667),("CZE",2006,6.334832682),
    ("HUN",2007,0.487904818),("POL",2007,6.818439881),("EST",2007,8.062766014),("LVA",2007,11.3194013),("LTU",2007,12.40534514),("SVK",2007,10.78629912),("SVN",2007,6.541772412),("CZE",2007,4.875046702),
    ("HUN",2008,1.170428844),("POL",2008,4.369536452),("EST",2008,-4.870579153),("LVA",2008,-2.368036506),("LTU",2008,3.660124768),("SVK",2008,5.273061263),("SVN",2008,3.208894122),("CZE",2008,1.764708729),
    ("HUN",2009,-6.595586428),("POL",2009,2.545616825),("EST",2009,-14.46549815),("LVA",2009,-14.6423128),("LTU",2009,-13.88775681),("SVK",2009,-5.631175103),("SVN",2009,-8.422088689),("CZE",2009,-5.339173999),
    ("HUN",2010,1.296636608),("POL",2010,3.464008539),("EST",2010,2.683661651),("LVA",2010,-1.635143791),("LTU",2010,2.555336048),("SVK",2010,6.691108446),("SVN",2010,0.672167911),("CZE",2010,2.415829489),
    ("HUN",2011,2.205910345),("POL",2011,5.198882223),("EST",2011,7.93414725),("LVA",2011,4.929579991),("LTU",2011,8.752238923),("SVK",2011,2.430269586),("SVN",2011,0.446560895),("CZE",2011,1.562186191),
    ("HUN",2012,-0.828646516),("POL",2012,1.512024367),("EST",2012,4.04377186),("LVA",2012,8.644499586),("LTU",2012,5.743976084),("SVK",2012,1.396463718),("SVN",2012,-3.119224817),("CZE",2012,-0.909418388),
    ("HUN",2013,2.524393053),("POL",2013,0.745031977),("EST",2013,2.119282),("LVA",2013,3.195451704),("LTU",2013,5.026825169),("SVK",2013,0.59516788),("SVN",2013,-0.958293258),("CZE",2013,-0.074962995),
    ("HUN",2014,4.755551698),("POL",2014,3.998318321),("EST",2014,3.594115908),("LVA",2014,3.060973817),("LTU",2014,4.620352866),("SVK",2014,2.608326499),("SVN",2014,2.66181374),("CZE",2014,2.137627553),
    ("HUN",2015,4.033108739),("POL",2015,4.501384676),("EST",2015,1.77141702),("LVA",2015,4.636452127),("LTU",2015,3.756324203),("SVK",2015,5.076972909),("SVN",2015,2.316344918),("CZE",2015,4.752624064),
    ("HUN",2016,2.837490398),("POL",2016,3.075475283),("EST",2016,3.063010903),("LVA",2016,3.4931864),("LTU",2016,3.877440546),("SVK",2016,1.8164696),("SVN",2016,2.959024148),("CZE",2016,2.384054255),
    ("HUN",2017,4.477435682),("POL",2017,5.139335422),("EST",2017,5.506857314),("LVA",2017,4.319358697),("LTU",2017,5.88872607),("SVK",2017,2.715217096),("SVN",2017,5.105893848),("CZE",2017,4.894550195),
    ("HUN",2018,5.821463618),("POL",2018,6.246071105),("EST",2018,3.339409364),("LVA",2018,5.125604221),("LTU",2018,5.790665482),("SVK",2018,3.918085065),("SVN",2018,4.001306499),("CZE",2018,2.486987701),
    ("HUN",2019,5.208764134),("POL",2019,4.606007273),("EST",2019,3.341963617),("LVA",2019,1.377746126),("LTU",2019,4.979383539),("SVK",2019,2.137584707),("SVN",2019,2.787045414),("CZE",2019,3.158748029),
    ("HUN",2020,-4.09730738),("POL",2020,-0.861202002),("EST",2020,-3.075480078),("LVA",2020,-2.789963807),("LTU",2020,0.068446214),("SVK",2020,-2.669028492),("SVN",2020,-4.72524968),("CZE",2020,-5.534919698),
    ("HUN",2021,7.662531754),("POL",2021,8.471718),("EST",2021,7.040926485),("LVA",2021,7.848195793),("LTU",2021,6.455358377),("SVK",2021,5.924293529),("SVN",2021,8.098635245),("CZE",2021,5.931069689),
    ("HUN",2022,4.551055711),("POL",2022,5.712275974),("EST",2022,-1.268031117),("LVA",2022,2.083419787),("LTU",2022,1.6952855),("SVK",2022,0.723874225),("SVN",2022,2.504885485),("CZE",2022,1.244094732),
    ("HUN",2023,-0.709301494),("POL",2023,0.616853101),("EST",2023,-4.540800666),("LVA",2023,2.960389673),("LTU",2023,-1.053576873),("SVK",2023,2.262509038),("SVN",2023,1.708804225),("CZE",2023,-1.820884038),
]

# Organize into series per country
from collections import defaultdict
series = defaultdict(list)
for cc, year, val in rows:
    series[cc].append((year, val))

# Sort each country's data by year
for cc in series:
    series[cc] = sorted(series[cc], key=lambda x: x[0])

# Plot
plt.figure(figsize=(10,6))
for cc, data in series.items():
    years = [y for y, _ in data]
    vals  = [v for _, v in data]
    plt.plot(years, vals, marker='o', linewidth=1.5, label=cc)

plt.title("GDP per capita growth (annual %)")
plt.xlabel("Year")
plt.ylabel("Percent")
plt.axhline(0)
plt.legend(ncol=4, fontsize=8, frameon=False)
plt.tight_layout()

out_path = "gdp_pc_growth_by_country.png"
plt.savefig(out_path, dpi=160, bbox_inches="tight")
out_path
